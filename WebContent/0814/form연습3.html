<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
	window.onload = function(){
		document.selform.data.focus();
		form = document.selform;
	}
	function add(){
		// 입력한 값 가져오기
		datavalue = form.data.value;
		
		if (datavalue.trim().length > 0) {
			// option 태그 만들기 <option value = "sdf">sdf</option>
			opt = document.createElement('option');
			
			// value와 text속성 설정
			opt.value = datavalue;
			opt.text = datavalue;
			
			// left에 추가
			form.left.appendChild(opt);
			
			form.data.value = "";
			document.selform.data.focus();
		}
		
	}
	function toRight(){
		// 왼쪽에서 한 개를 선택
		idx = form.left.selectedIndex;
		console.log("idx = " + idx);
		
		// 선택한 항목이 없으면 메세지창 띄우기
		if (idx < 0) {
			alert("항목을 선택하세요");
			return;
		}		
		// 왼쪽에서 선택한 항목의 값을 가져온다
		lvalue = form.left.options[idx].value;
		
		// option태그를 생성
		// value, text를 설정
		opt = document.createElement('option');
		opt.value = lvalue;
		opt.text = lvalue;
		
		// 오른쪽에서 option 태그를 추가
		form.right.appendChild(opt);
		// 왼쪽의 항목 삭제 - 왼쪽에서 선택한 옵션의 번째
		form.left.removeChild(form.left.options[idx])
	}
	
	function toLeft(){
		// 왼쪽에서 한 개를 선택
		idx = form.right.selectedIndex;
		console.log("idx = " + idx);
		
		// 선택한 항목이 없으면 메세지창 띄우기
		if (idx < 0) {
			alert("항목을 선택하세요");
			return;
		}		
		// 왼쪽에서 선택한 항목의 값을 가져온다
		rvalue = form.right.options[idx].value;
		
		// option태그를 생성
		// value, text를 설정
		opt = document.createElement('option');
		opt.value = rvalue;
		opt.text = rvalue;
		
		// 오른쪽에서 option 태그를 추가
		form.left.appendChild(opt);
		// 왼쪽의 항목 삭제 - 왼쪽에서 선택한 옵션의 번째
		form.right.removeChild(form.right.options[idx])
	}
	function rightAll(){
		// 왼쪽의 option의 개수를 얻어온다
		len = form.left.length;
		
		// 개수만큼 반복한다{
		for (var i = 0; i < len; i++) {
			// 왼쪽에서 차례대로 1번재 의 값을 가져온다.
			lvalue = form.left.options[i].value;
			// option생성
			opt = document.createElement('option');
			// text와 value값 설정
			opt.value = lvalue;
			opt.text = lvalue;
			// 오른쪽 select에추가한다
			form.right.appendChild(opt);
		//}
		}
		// 개수만큼 지우기
		for (var i = 0; i < len; i++) {
			form.left.removeChild(form.left.options[0]);
		}
	}
	function leftAll(){
		// 왼쪽의 option의 개수를 얻어온다
		len = form.right.length;
		
		// 개수만큼 반복한다{
		for (var i = 0; i < len; i++) {
			// 왼쪽에서 차례대로 1번재 의 값을 가져온다.
			rvalue = form.right.options[i].value;
			// option생성
			opt = document.createElement('option');
			// text와 value값 설정
			opt.value = rvalue;
			opt.text = rvalue;
			// 오른쪽 select에추가한다
			form.left.appendChild(opt);
		//}
		}
		// 개수만큼 지우기
		for (var i = 0; i < len; i++) {
			form.right.removeChild(form.right.options[0]);
		}
	}
</script>
<style>
	.line{
		text-align: center;
	}
	#input{
		width : 300px;
		height : 20px;
	}
	select{
		width : 200px;
		height : 500px;
	}
</style>
</head>
<body>
<div class ="box">
	<form name = "selform">
		<table >
			<tr id = "line1" class = "line">
				<td colspan = "3"><h2>select 객체 예제</h2></td>
			</tr>		
			<tr id = "line2" class = "line">
				<td>
					<select name = "left" multiple ="multiple" size = 25>
					</select>
				</td>
				<td >
				<input type="button" value = ">" onclick = "toRight()"><br><br>
				<input type="button" value = ">>" onclick = "rightAll()"><br><br>
				<input type="button" value = "<" onclick = "toLeft()"><br><br>
				<input type="button" value = "<<" onclick = "leftAll()"><br><br>
				</td>
				<td>
					<select name = "right" multiple ="multiple" size = 25>
					</select>
				</td>
			</tr>		
			<tr id = "line3" class = "line">
				<td  colspan = "3">
					<input type="text" name = "data">
					<input type = "button" value = "추가하기" onclick = "add()">
				</td>
			</tr>		
		</table>
	</form>
</div>

</body>
</html>